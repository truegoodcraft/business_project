<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>BUS Core â€” Dashboard</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="alternate icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='6' y='6' width='52' height='52' rx='10' ry='10' fill='%23111'/%3E%3Cpath d='M18 40h12V24H18v16zm16 0h12V18H34v22z' fill='%23fff'/%3E%3C/svg%3E">
  <link rel="stylesheet" href="css/app.css">
  <script>
    (function(){
      window.__diag = { log:(m)=>console.log('[DIAG]', m) };
      __diag.log('HEAD: start');
      var q = (window.__cardQueue = window.__cardQueue || []);
      window.registerCard = function(name,factory){ q.push([name,factory]); __diag.log('shim queued: '+name); };
      __diag.log('HEAD: shim installed');
    })();
  </script>
  <script src="js/token.js" defer></script>
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar" aria-label="Primary">
      <div class="sidebar-brand">BUS Core</div>
      <nav class="sidebar-nav">
        <button class="sidebar-tab" data-tab="inventory" type="button">Inventory</button>
        <button class="sidebar-tab" data-tab="vendors" type="button">Vendors</button>
        <button class="sidebar-tab" data-tab="manufacturing" type="button">Manufacturing</button>
        <button class="sidebar-tab" data-tab="tasks" type="button">Tasks</button>
        <button class="sidebar-tab" data-tab="backup" type="button">Backup</button>
        <button class="sidebar-tab" data-tab="settings" type="button">Settings</button>
        <button class="sidebar-tab" data-tab="writes" type="button">Writes</button>
        <button class="sidebar-tab" data-tab="organizer" type="button">Organizer</button>
        <button class="sidebar-tab" data-tab="dev" type="button">Dev Tools</button>
      </nav>
    </aside>
    <div class="workspace">
      <header class="app-header">
        <div class="header-left">
          <label class="writes-toggle">
            <input type="checkbox" id="writes-toggle" checked>
            <span class="toggle-indicator"></span>
            <span class="toggle-label" id="writes-toggle-status">Writes Enabled</span>
          </label>
          <span class="license-badge" id="license-badge">License</span>
        </div>
        <div class="header-right">
          <span class="app-version" id="app-version">v0.6</span>
        </div>
      </header>
      <main id="main" class="main"></main>
    </div>
  </div>
  <div id="modal-root"></div>
  <script>__diag.log('BODY: before runtime');</script>
  <script src="ui/js/runtime.js"></script>
  <script>__diag.log('BODY: after runtime');</script>

  <script src="ui/js/api.js"></script>
  <script>__diag.log('BODY: after api');</script>

  <script src="ui/js/ui/dom.js"></script>
  <script>__diag.log('BODY: after dom');</script>

  <script src="ui/js/ui/modals.js"></script>
  <script>__diag.log('BODY: after modals');</script>

  <script src="ui/js/app.js"></script>
  <script>__diag.log('BODY: after app');</script>

  <!-- cards: no defer/async -->
  <script src="ui/js/cards/inventory.js"></script>
  <script src="ui/js/cards/vendors.js"></script>
  <script src="ui/js/cards/manufacturing.js"></script>
  <script src="ui/js/cards/tasks.js"></script>
  <script src="ui/js/cards/backup.js"></script>
  <script src="ui/js/cards/settings.js"></script>
  <script src="ui/js/cards/rfq.js"></script>
  <script src="ui/js/cards/writes.js"></script>
  <script src="ui/js/cards/organizer.js"></script>
  <script src="ui/js/cards/dev.js"></script>
  <script>__diag.log('BODY: after cards');</script>
</body>
</html>
